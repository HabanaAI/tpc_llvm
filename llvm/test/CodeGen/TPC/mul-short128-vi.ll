; RUN: llc %s -o - | FileCheck %s

target triple = "tpc"

define void @main(i32 %dest, i32 %src1, i32 %src2) {
entry:
  %0 = inttoptr i32 %dest to <128 x i16> addrspace(2)*
  %1 = inttoptr i32 %src1 to <128 x i16> addrspace(2)*
  %2 = load <128 x i16>, <128 x i16> addrspace(2)* %1, align 256
  %mul = mul <128 x i16> %2, <i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123, i16 123>
  store <128 x i16> %mul, <128 x i16> addrspace(2)* %0, align 256
  ret void
}
; CHECK: ld_l_v  %V0, %S1, 0x0
; CHECK: mul.i16 %D0, %V0, 0x7b
; CHECK: st_l_v  %S0, 0x0, %V0
